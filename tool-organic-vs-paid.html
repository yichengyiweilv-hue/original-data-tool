async function copyToClipboard(elementId, msgId) {
            const copyText = document.getElementById(elementId);
            if (!copyText.value) return;

            try {
                // 优先尝试现代 API (支持无限长度，需要 HTTPS 或 本地localhost)
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    await navigator.clipboard.writeText(copyText.value);
                } else {
                    // 降级方案 (传统方法)
                    copyText.select();
                    // 关键修改：将 99999 改为内容实际长度，彻底解除限制
                    copyText.setSelectionRange(0, copyText.value.length + 1000); 
                    document.execCommand("copy");
                }

                // 显示成功提示
                const msgElem = document.getElementById(msgId);
                msgElem.classList.add('show');
                setTimeout(() => {
                    msgElem.classList.remove('show');
                }, 2000);

            } catch (err) {
                console.error("复制失败，请尝试手动全选复制", err);
                alert("自动复制失败，文本太长或权限不足，请手动全选复制。");
            }
        }
